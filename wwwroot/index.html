<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="chrome=1">
	<meta name="description" content="QR Code Generator">
	<title>QR Code Generator</title>
	<link rel="stylesheet" type="text/css" media="screen" href="style.css">
</head>
<body>

<div class="wrapper">
	<h2>Generate QR Code</h2>
	<p>Enter content or <a href="/webcam">scan a QR Code using webcam</a></p>
	<input type="text" id="content" placeholder="QR Code content" onkeydown="keydown(event)" style="width: 256px;" autofocus />
	<input type="button" value="Generate" onclick="generate()" class="button button-generate" />
	<div id="placeholder" class="qrcode-placeholder"></div>
</div>

<script src="qrcode.js"></script>
<script>
function keydown(e) {
  var e = e || window.event;
  if (e.keyCode == 13 || e.which == 13) {
    generate();
  }
}

function generate(content) {
  try {
    var qrcode = new QRCode({
      content: content || document.getElementById("content").value,
      width: 370,
      height: 370,
      padding: 4
    });
    document.getElementById("placeholder").innerHTML = qrcode.svg();;
  }
  catch (e) {
    alert(e.message);
  }
}

generate("Hello World!");
</script>

</body>
</html>
